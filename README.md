# LIBRARY PARSER

Парсер, который позволяет получить информацию о книгах с сайта [tutulu](https://tululu.org/).

## Предустановка

Все используемые библиотеки указаны в файле `requirements.txt`
Для установки библиотек в виртуальное окружение используйте команды:

```
pip install -r requirements.txt
```

### Описание файлов и работа с ними

* **general_functions.py**

Файл, где лежат вспомогательные/общие функции для работы парсера.

Также в репозитории есть два скрипта:

* **parse_books_by_id.py**

Данный скрипт качает книги с абсолютно любой категорией, подбирая `id-книги`. 
У этого скрипта два аргумента, которые вы можете использовать при запуске:
``` 
start_id - Передайте здесь id-книги, с которой желаете начать поиск | DEFAULT=1
end_id - Передайте здесь id-книги, на которой желаете закончить поиск | DEFAULT=10
```
Если аргументы не будут указаны, то скрипт возьмет значения по умолчанию.

Для старта скрипта напишите в консоле, находясь в директории с файлом:
```
python3 parse_books_by_id.py
```

Пример выполнения скрипта:
```
python3 parse_books_by_id.py --start_id=20 --end_id=30
```

* **parse_tululu_category.py**

Данный скрипт качает книги из категории "Научная фантастика". 
У этого скрипта несколько аргументов, которые вы можете использовать при запуске:
``` 
start_page - Укажите с какой страницы начать парсинг | DEFAULT=1
end_page - Укажите на какой странице закончить парсинг | DEFAULT=Последняя страница
dest_folder - Папка, куда сохранится результат парсинга | DEFAULT=parse_results/
skip_imgs - Укажите этот флаг, если не хотите скачивать фото книги | DEFAULT=False
skip_txts - Укажите этот флаг, если не хотите скачивать текст книги | DEFAULT=False
json_path - Можете указать свой путь до .json-файла, где будет информация о книгах.| DEFAULT=parse_results/books_data.json
```
Если аргументы не будут указаны, то скрипт возьмет значения по умолчанию.

Для старта скрипта напишите в консоле, находясь в директории с файлом:
```
python3 parse_tululu_category.py
```

Примеры выполнения скрипта:
```
python3 parse_tululu_category.py --start_page=700
python3 parse_tululu_category.py --start_page=650 --end_page 700 --dest_folder results --skip_imgs
python3 parse_tululu_category.py --end_page 10 --skip_txts --json_path json_files/json_data.json
```

Если вы хотите увидеть все аргументы в консоле - напишите:

``` 
python3 sriptname --help
```

## Создано при помощи

* [DEVMAN](https://dvmn.org/) - Обучающая платформа

## Авторы

* [Alexander Zharyuk](https://gist.github.com/AlexanderZharyuk)
